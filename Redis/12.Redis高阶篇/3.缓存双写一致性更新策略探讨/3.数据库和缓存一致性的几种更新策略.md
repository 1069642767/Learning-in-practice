# 数据库和缓存一致性的几种更新策略

### 目的：总之，我们要达到最终一致性

<font color = blue>给缓存设置过期时间，定期清理缓存并回写，是保证最终一致性的解决方案。</font>

我们可以对存入缓存的数据设置过期时间，所有的<font color = gree>写操作以数据库为准</font>，对缓存操作只是尽最大努力即可。也就是说如果数据库写成功，缓存更新失败，那么只要到达过期时间，则后面的读请求自然会从数据库中读取新值然后回填缓存，达到一致性，<font color = gree>切记，要以mysql的数据库写入库为准</font>。

上述方案和后续落地案例是调研后的主流＋成熟的做法，但是考虑到各个公司业务系统的差距，<font color = red>不是100%绝对正确，不保证绝对适配全部情况</font>，需要自己酌情选择打法，合适自己的最好。











