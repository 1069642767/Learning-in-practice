### redis过期键的删除策略

如果一个键是过期的，那它到了过期时间之后是不是马上就从内存中被删除了呢？

如果不是，那过期后到底什么时候被删除呢？是什么操作？

### redis三种删除策略

1. #### 立即删除

   Redis不可能时时刻刻遍历所有被设置了生存时间的key，来检测数据是否已经到达过期时间，然后对它进行删除。

   立即删除能保证内存中数据的最大新鲜度，因为它保证过期键值会在过期后马上被删除，其所占用的内存也会随之释放。但是立即删除对cpu是最不友好的。因为删除操作会占用cpu的时间，如果刚好碰上了cpu很忙的时候，比如正在做交集或排序等计算的时候，就会给cpu造成额外的压力，让CPU心累，时时需要删除，忙死。

   <font color = 'red'>这会产生大量的性能消耗，同时也会影响数据的读取操作</font>

   **总结：**对CPU不友好，用处理器性能换取存储空间（拿时间换空间）

2. #### 惰性删除>

3. #### 上面两种方案都走极端



