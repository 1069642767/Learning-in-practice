# CompletableFuture为什么出现

get()方法在Future 计算完成之前会一直处在<font color = 'red'>阻塞状态</font>下，

isDone()方法容易耗费CPU资源，

对于真正的异步处理我们希望是可以通过传入回调函数，在Future结束时自动调用该回调函数，这样，我们就不用等待结果。

<font color = 'red'>阻塞的方式和异步编程的设计理念相违背，而轮询的方式会耗费无谓的CPU资源。</font>因此，JDK8设计出CompletableFuture。

CompletableFuture提供了一种观察者模式类似的机制，可以让任务执行完成后通知监听的一方。

# CompletableFuture和CompletionStage源码介绍

### 架构说明

![](images/2.CompletableFuture架构说明.jpg)

### <font color = 'red'>接口</font>CompletionStage

![](images/3.CompletionStage是什么.jpg)

代表异步计算过程中的某一个阶段，一个阶段完成以后可能会触发另外一个阶段，有些类似Linux系统的管道分隔符传参数。

### <font color = 'red'>类</font>CompletableFuture

![](images/4.CompletableFuture是什么.jpg)













